# Новое русское вино

**Новое русское вино** — это сайт магазина вин и веб-приложение для отображения информации о винах, основанное на простом HTTP-сервере.

Приложение позволяет пользователям загрузить свой файл формата `.xlsx` с информацией о винах и просмотреть его содержимое на веб-странице.

## Как это работает?

Вы создаете свой файл `.xlsx` с данными о винах в виде таблицы (категория вина, цена и так далее), а скрипт загружает эти данные и формирует веб-страницу магазина с ними.

## Используемые технологии

* **Python** для серверной части и обработки данных.
* **Pandas** для чтения и обработки данных из файлов `.xlsx`.
* **Jinja2** для шаблонизации и генерации HTML-страницы на основе данных.
* Встроенный **HTTP-сервер** для отображения данных на веб-странице.

## Предварительные требования

Прежде чем начать, убедитесь, что у вас установлено следующее:

* Python 3.7 или выше
* pip - установщик пакетов Python
* Virtualenv - Инструмент для создания изолированных сред Python
* Git - Система контроля версий

## Установка

1. Скачайте [репозиторий](https://github.com/StableBig/wine_site_ver2) или клонируйте его, выполнив команды:

```
git clone <https://github.com/StableBig/wine_site_ver2>
cd wine_site_ver2
```

_Примечание: Команда  `cd` (change directory) используется в Unix/Linux системах. Если вы используете Windows, вы можете использовать эту же команду в PowerShell или использовать команду `chdir` в командной строке (cmd)._

2. Создайте новое виртуальное окружение и активируйте его:

```bash
python3 -m venv venv
source venv/bin/activate  # для Unix систем
.\venv\Scripts\activate  # для Windows
```

3. Установите необходимые зависимости.

Убедитесь, что у вас установлены Python и pip. Затем установите необходимые библиотеки:

```
pip install -r requirements.txt
```

_Примечание: Если вы используете `pip3` вместо `pip`, замените `pip` на `pip3` в команде выше._

4. Вам нужно предварительно настроить некоторые переменные окружения.

Создайте файл `.env`.

Укажите значения переменных `FOUNDING_YEAR` (год основания винодельни) и `WINE_LIST_PATH` (путь к вашему файлу с таблицей в формате `.xlsx`).

Например, если год основания винодельни - `1920`, а файл называется `wine.xlsx` и он находится в корневой директории проекта, ваш файл `.env` будет выглядеть так:

```
FOUNDING_YEAR=1920
WINE_LIST_PATH=wine.xlsx
```

5. Структура таблицы файла `.xlsx`.

Таблица должна иметь следующие названия колонок: `Категория`, `Название`, `Сорт`, `Цена`, `Картинка`, `Акция`.

Пример таблицы:

| Категория    | Название      | Сорт      | Цена | Картинка       | Акция      |
|--------------|---------------|-----------|------|----------------|------------|
| Белые вина   | Ркацители     | Ркацители | 499  | rkaciteli.png  | Акция      |
| Красные вина | Черный лекарь | Качич     | 399  | chernyi_lekar.png  |         |

* Если ваше вино участвует в акции "Выгодное предложение", заполните столбец `Акция` напротив нужного вина (не имеет значения, что там будет написано, главное заполнить это поле). На изображениях указанных вин появится плашка "Выгодное предложение". Например, если вина "Белая леди" и "Чача" участвуют в акции, то ваша таблица будет выглядеть так:

| Категория  | Название   | Сорт            | Цена | Картинка        | Акция               |
|------------|------------|-----------------|------|-----------------|---------------------|
| Белые вина | Белая леди | Дамский пальчик | 399  | belaya_ledi.png | Скидка              |
| Напитки    | Чача       |                 | 299  | сhacha.png      | Выгодно |

* Изображения товаров поместите в директорию `images`, и в столбце `Картинка` укажите название файлов напротив вин, к которым они относятся.

6. Запуск веб-сервера.

Будет запущен веб-сервер и загружен файл `.xlsx`. По умолчанию это файл `wine.xlsx`, который находится в корневой директории проекта. Если вы указали путь к нему в файле `.env`, то будет загружаться он.

Для запуска выполните команду:

```
python3 main.py
```

Если вы хотите использовать другой файл, можете указать путь к нему прямо во время выполнения команды:

```
python3 main.py --file путь_к_вашему_файлу/название_вашего_файла.xlsx
```

Перейдите в вашем браузере по адресу: http://127.0.0.1:8000. Вы должны увидеть сайт с вашим списком вин.

## Для разработчиков

Основные файлы проекта:

* `main.py`: Главный скрипт приложения. Запускает сервер, читает данные из файла `.xlsx`, генерирует веб-страницу на основе шаблона `template.html`.

* `template.html`: HTML-шаблон для генерации веб-страницы.

## Цели проекта

Код написан в учебных целях.
